noseX=0;
noseY=0;

function preload() {
  clown_nose = loadImage('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADjCAMAAADdXVr2AAAAkFBMVEX////+/v7t7e3s7OwHBwcGBgb39/f6+vr09PT9/f3y8vLv7+/r6+v19fUAAADOzs6vr6/FxcXg4OCioqK3t7d6enrX19e+vr5oaGiPj4+Hh4dKSkqpqamVlZXd3d3AwMBgYGCdnZ06OjodHR0xMTF0dHRFRUVbW1spKSkbGxsRERFubm4jIyM+Pj5GRkYzMzOPkafSAAAVwUlEQVR4nO1dB3uyPBcO0whyXGit2mHH2/31//+7L3uRAHY91sp1taUJhHNnnE1AETlQEZOjQuR0mJCzZEgLK1pY0ELECgfkFOW0sGSFuKO+pIU5LRzQ+pgVdtUzSnJNSaQujfWliX4+pqeRj2jWAFLwEuzAw4lDPiMv0fA66jn5tH2DpnC9hpcYHR1FVk+YTXmJrpITvOOBx44iSZIRpmfDET0d0lNMTwtWzwoH9CynpyXqU1/SwpyeDWhhgpz62FfPbqo0JZGvqZEiOmFER5roSrdPG0AFPfIBOXJ6hunZANuFhS6s2GkRrM91PTurdKNF7/rcKeSXuqVdz6eXolgzPTKYiZg3icXUxGRIxGRAfDJ46ytdr2Z4Ysxgoz7y1TcoYfQNkZh3rZc6RNNSAc+7LDrmurus3GXjXcDeeoO7+yhpLCtNdBQmOv4T8DRXSCyukISX8jCx6xNdb3AFzp8SxX8Spz5y6kdBSgTXsJtqIzpRpRUmR84OelaxM6fQOM199R+6qVFPG2o22udRqrBSj6p4qRYMSUMweDvWEAwd9R8WDI0h7ppNpmDQRDHBcORi/U/ASwLwvHLGgJd0wnOEY7g+toVnD3g+orVw5PCG9MAlOSp6NqBn5YCeVvQMs3pdmLPTqL2+0IW5bjTqqGeFha/QX4p9z2dEFZG81OSxQa6gl7KpmPoEQ0NddBXTrnqXktgQDLrUITr2sjJ26bGL9RO8XwzvK9aeUX9oa8/hnEPNmTRnjH6Ec0ZfwTlzh3MeudyLggrAEWktRwvPUb6/3WJIkh+1GPqbblWH6Ra257rswarlpr3sPYs+Zu8djrWeBCnxWutJL2v9yMX6n4AnRdrR+TkPwUtdOYUuJft6qXPtpVZc4ThjDEcu1k/wfjM8V2IfgBv302vPUMqSHpS55mx0ciUdlFg/wfud8D6y9r7SldTBnz679rz6Vq+ofq+ov6s57Rv/H4RLvUQb7dNS5NWWmQrbpe12asM+vbyX3m7q3T1UfJl05ejdf0GsHzk8RwHo1Fq08d8r6t/iSnKdB5qSLleScWmXK0mG2lXUvrJOvYW61H+T9AIFbmqrdwqla8h7aej5WD/KdCX1EAyGK8mrlHW5ir4+8cMm+uRKOkJ4KADPL2c6XEltcRiHKfaKwzSiIx1Em/Dc2FZHwMnIL/BG/Sun0I2S7RHF0oX+0i6i6aVaMHy3K4nzpy82Z0cnV9IJ3q+F92Nr71tcSZ1rz8eEIm9U380v8Eb9uzinW9/BOSMv5/SnMng555HLvT+htRwvvB+1GHq6krTFYLqSghZDw5WkLYaPR/Xzjps+lErgv6lHlrmfPsJV0Qes9ahHxzdM7MgzMN+U+BGhk1J2BPBskfYP/ZxOytwX+Tn3jPrv4aX25h981kvdksrg9VIHvTJflCru8J/Pxhj6CYZTfO/Pw/PVHxq8/dZel1L25Wuvlxu3RSlzuEbUP6r/I64k1N7dfnP29ILbCd5vgOdM41/mStp31wGh71CTiSOvcEgJ6qUk7bvrgFdzC+pzkUh9IFh67zpAMc2u5uuX1Wp1fz5ZYlx69e5/nY1LHj7eLq7Jcb+7mpH60ibKL9YRGq/vwDge10tqVxyW1lLisr42qcyu57Oq7NJaquHuiV6ckiNL6Z+M/Lua0bl+QPCK8iJlZApCGZVwPc1bdx0o8zm9SeBiB/sLsBgc0q4Def0MoIhMGZkpJfOBcR1z1wEjQD+IN+SulHeJGD3ePRk8jyMd/698qQC5tz5Y2K++8pQOBi+MTH1kkmKAM2TepQUDGZhlysHpDhF3kh+AiSsYeqiL37HrQDl7h0zQmcnRE9OMzrMi9ipl0ZnsE9kZfABVz8zRIYj1cvYEgkK19DJJJwW4EWvZ1lryLeMoWSqHTt0hBjGj4/fP4ZWjV+BDptddptgEw3dTuvCSmDAVY8zERBaHKMpg/O/fvsQbkB2uhYJJNllH70g2IN+dzWvIFLMUjPa/9fZsOt0ubhkzpffBwHg3te+7s0SMMy8yWxAD5k/ma7cI5R+0vDuLzoU0IPQ9XNRX07Pd6lkD5CMJGzS0dx2YWX1AwN3tGI+NyqIqzt5EJbwM9arvZc4OcTIbT6dXZ3W9nZCjvro6O6u320ldLykzIjTs40oql8BWGkG35m82l7gqp/diAMRiSuG+slxJw1eQnJKhe61xMZASknTCTgh6uOwt1knrw+X2/i2D8PF4fV5f0tHsK9bzB8794O6y0s6IApULuoQEz6DzdosNrQXdc2bEIQKcF4VtgKCa44OXfvBKnI93G2NlCGmj1oeggh639zUdnT7wyrEg440MuulrQejyEYy2AS5LBa+YgmCtfFYv84Z9hS6ADx9luh3wyOxanr9KnSlrcPBUrm/NwVZTxPlHOzy8YFTA86h0XUkIvYh5yxv9L5eupLi4hVSNHjxir311x1uuPWvPTRWfbvigOTJXcS71O1XMHNILqhG3r724vGVCAerC40oanIMhJWDC9UfCjbYge5KiGxW+XQdwzeHd52XrrgNFVd+pCZmq9S66T5ZrfVEiJB2yIIi8nDMSpYQB0lsI4/dmHaA56NkPTzQrgg0rSF2M3JrNSr+pVjCi4SZvlXvo6l3p5KmaLMaJ5s6ZVCGU2gfnbP/OoNxDV2wcqPpk2p/SAkFEaqRauk8KJkvRBHQ/wrgI2DLVPe0EuMUtWgvCK4DUwWIdjbLM+EsA1nnZAm/Lpjxn3z5fC6KMVfQdPAp4b6B7cFeFTLWC9QI8FUF4lL+6GoQiXiPO9CVq3sqDyOpZEYa34yTkQXg5F4DsEXBW0EXJJjQfPrhBeik7FgFlyqRPCLyAxYCGK66Ta16pZG0aRq26lnMfYtJUechiYIsLHrBp5iDLlVSD7LcMVlWCqgGdsGIlwHQQDNUPZqztR9QM1bNTdPkKUhfPsswBJbRypTzpM2VSCpx0BVZ2foF81GBCSYUFCqciIK5g8ZlA+imubkAarrDJW3YdmDHW8oBsaz2RStkUQK1gbWko6WAOpUacKnPEYKzwQDU1j7VeXjESFi27DgzGoCYOsQBQOQPVgWS2tkSImMYAF16xTucN2KzCHL7GzDRqMxOyYDF3s8In1jmtsGqNEN2AfAKZBqioFTeAJ9wWAGMWE+kRL7w1WEg6D/fqzDqF52Xh1VreCO2QtsKbKD8F/I8wiHNQrGaN26L+1NCCjCbCuH7OmOispmiTaonWWNTMlKJOmV6iwnAIcSE/rjx+zuKCrf8l199clygnGkvmSRohi+dFoiUyrwpH/aMlG7w1anqp8WDlGbvwaGbO78y9msn4JVKUKC81HjEiroctqQpkGJQ2S5jG/0D0MQUbjDHExR3VCGAUe2IMK5A8IpXaiB4gqVxq14bBN1NjGA0VlXX9uPDEGBZM8k2DgqEa0RGWbZDrboUpTpli0ANbViums1yghq+FqurBgdKjJHUle7DsJZep6UufRRUo1xmBCsrBAGYoGCEi7FW2S/V/rnByRhOCVyTXUug14d2DNbsyjUe73JR4UxNSck3FPeUYymvJ+C2Lhq9FMDjK89n28R54M7VSqO9LOlKoI8yFV8bcLTJ5YmNH5nIT3to0DxoM0fAk8oc4o2ZoZhK4gk9t0oYriai+dCiIeUEWG5HoTXjls/B9EZudw+Nrb4pc/zm+fVxv5/fPwJu8bLpxh+da3GXmcHnnKFGUlBdcDrLUBDI99Kr3n2fIVTMSvOJ6NWzWu4sHRrSdEYjfQXQSgYelNUTglQ0H81Z5AgHeL4tmVtIOtFrlDpwhFMQZPCwNk9rmLEorMwrgdVQ2I5M7bnIxyl4pr3MyIzbCLCJmL8pv5eSCcdl0QdbS6/O0zctGhIhbKMZ6staXPXBs8Gph9DcuUczUPuBuVDYiRGj2IKlalWXDb8oENJcuU5T/J2cXGb1mBgwaTe43b9fnY08ADFFL0R4t418HHJsfr8VQKxVeyZg5/8HNqGwGwKrL3cvmf6vdjKsVDXjibiI7qxfpZ6H2UVMpiwucV9wAacCT6DJ37FJzJaVSJGQwL/IolfGPhnQwGLBioQQf0a8b8b2ywJwoj9ebGQ1c90lQcS4dWrAt9soIRDU4eGzWmRkjJzTJkliqWzAh2Zf6xhDe4ni/XQeexegxPWUqieQKV+98Tr3uDIqyBpmGBkZWHrkfPxkhRB8gg6Vy9n6T576sg0A+J55JOQz/kR4o5Qwjpjpqe4HEyS/YhWwEg9kouGyavbHJVEwaSk7WQGsdzD7qnY2r2ycmAiH0XcS9Mqrq9Ezb0RaQR5Yb4IwC5gGi9+cbsDEZTdhLVhYQ+wj3TtvJrxVnqWlKvPCekX/X/eFdW65Mvx5pDyNtnd1fXu5pG9JVdJbH/eCx1nmnwIiOw1KqLdSA6PMeQzmgbhWtJEoUyinbXIkE3S2S92PT3ZoZNztF6g/VmNbFwMPqmhZDrjoeHiq66wCPDjF4b1F3VD8fxjwcY3ZvprBIri9/pTJgtRyoppCaP4qrSj+9AVPaR4K2xykadGcdRDXIfoZ6QHcdwOcidkSWx3XeLhioNXyhnJmGxthUPDJNeMb09URlBUSjV1CdkiqbXapumRFgUTODdNDmChcduw7gMUi/HwAdTrKSZloPhAfGHwMZeCXG4wWApXe0LSNdBwtkpu2US/DbiG0NEoJv5tRrFUw2LvOJdmjxtU7d6y8qep7B8xVCHnh0IPF0/Sqzenw6YqZaMZYdZ1rUfWjAS/CVn734salSqmXWmAZaPPCKarbSvcbkAIMnmQ2bGqSLzoZ5UVJTL2LB4ZLOiHy5vVZZBGqRyLWifRGGc1NNTCbxnKSraiI1JzmvLdPB0Mqk/0K0Smi4oSHdXMTqpaAiLHIBoCyPDO6ZnGShpYXyvjAuANe76YzN7SGeLa+265dHOwPBEtluNzcmGLwPUOOFW5qJYQ2xyT41W1WcSjfPLaHNYju9LHFV5Dku8eyMpvkpDwG9ZoTVrgMjkLkifFzZ8Xz7+pTq5ApptVn6k+j/TNZIf1Aqh5X24xsuFX8yWMFcRW7Ug5VXUJVLM9cEm0pjj4WuHx9fn2XnZ+qpsDOykvKt6esS60VGxsPMI2ybG+IQNsOhN6+F5gnJhwWfYKkwjYfL3JbGNTS1xUjbqR6MAK30amm2bq0kDcx6tP0IBRxWKJS2U52p8LtPpqsJoVpTpXoUmg/mY3OJzKykcpS5XaA4R6bbdeel025DXlFtg3CVUFYSXj775UPwaBND5mPnyE4VL6dg9JutI2XegXFHTvWyUQEs0yCcEVjONpBZPdeLfmc+N26lM8bZdYAap0J/UAvbvdNtx+wCz2lGLJlh+64DaLBWflYf0fb0b8wvzalNXgvvhUwNM5KNd4au1WyhCSm1R8sEzd1wVFXp3HUgv0oDAWt/Uffwwi1mgRcnl5qacM4gdLWVGb/dJQ7PY4S6c6njInlpaOjOU/QgtTJZ/gueCmbeNlLF8wuTvUj/pV/7yqxrPOBgQV977ZMqXubTRyki3Ong8i93kji8jKK7w8j/gltSTVQ/ammgmrQasxmL80yq3Y+50tRr14GceWZFh2VWn0pzIrPgWtJedwoV9w/D8K4DSHBq5TvW9zUElKf/hP4I8E5tsz12HaiGowXX1a3WTEFj/uNwOt0VZM4M87ZdB/KHgKnSHCmzd/UwE3CPtbK/eu86UOaXC5336wgjYyKJxzSq+cSEKeKzJbTrQERNJjk9jS6yxqxRrAaW6rp1jg23qhGAb4h1q76kLldTv8rMxt2HetYIMZby7hfc8EjmtjbHSneft5SmvY2rwk9+d6o46fDJDYRnTysfB7ijnLp714GyWq5ApZnpIdTrIjOYtaqlyc31kBL98V0HyOQdL559OnJY9oqH386ZHd9n1wGMZgvnGV7DQXIfprdvtsTk+fyuA9UATxepsMD0w5WHQC9CZfFSC7eu8j12HSir0fw/YeZpS1ra15nxIB5lW1zlKC+/6s3nCI8vNmaism8Qs1T17GLp8X+17zpQFqicXHvMKbmopT25WU8uuV4eENsfeAMspmb4cr56VLa0frhc+4KA98UVroy1rBxE3a/lUwfG/P7tGbzH62axm87iCosEoi9/wY3OqOl8/fCe+gm4u76YJpgomB/edQANC5yXs9n4rN5erOlxfn4xn0zOxpfcKzyMbaf4V7+/RxZShUflbDyt5+f8+YSA+aQeX1aGKykMz/Kve+N7wirMC4y5J5xZUZ3v733d5rEJu3RQqBdYCurJayFaK2WKstOuA9EhvODWESHq0lpO8H4RPGca/7JdBzo3sAxvIPChr0j97K4DrbtIBXYdCGnDvTewPKRvgLWL9b+8V9KvgBfUFX7664l77DqQdBCttZbwu/5ft4HAh27y7zrQdWlu36UFw+F8JOsrv1x65GL9T8BLAvD2+uYz8pHvCMdP7zoQlsPO7s7WrgN2bGrQZ1eBfb/YPexTv+8Xuyvn+ZVu39x1oJUrfGYDS0cxPX2g7qS1nOB9aAPLX/eBOvZWv8uEDM4YDUMfCAjXF7rQ/apBR33UuuuAVRp5v3VQqfY559xD7nnE+s/vtrOn3IuCCsARaS1HC89Rvr/dYkiSD1oMPTewdCyGz35LoE+996sH/b6KUPVvyn0+s/eEtc7mDetYcibtK7rqeW/xpcx6K4qUtc64Aut4Vc9dRaI32QxmvUkbTZz6yFPvp2QkXEl2Uy1EJ6r0yMX6n4CHoj38nH13V0Ue4fjTfk7fu2stXuq8v5e4v5fa6/o2KOnyUvuJZl5qrzr5a2IMnTsbH7lYP8H7FDz0b+HpadziP/f6x//dV4P3UMqSHlzh5Eo6bLF+gvc74X3F2jtgV9KeUf88XN8rvv/Zr0h17zpQWPmctrbce9eBPtqwTy9vz8b9+m+AfbdYdxbosWkt/xieowAcm9by8aj+vqH8XvVdN+2RqkBPf/jLpV+f+GET3Uj8OHKx/ifgoQC8A/3mc9JKtAnPG/XvCNUPvFF/t96bX+C9qSv/wF/qfGbc/8VuxRW+25X0sVTxz6arHrlYP8H7zfB+bO39m1RxX1aAP6rPOWPkY4I66s/qjfi+m1/gcFYR/4887NDIL3CzArypDI38AmfXgU6xfjhyr11Y/zmt5WjhBZXvb7EYPuVK0naEQ3TLZ3W9UfdeUf1eUf/+jbblH+yZymDtOhBZWQGeqH8kOzYyQvVW1N9b7+QfSLmn6mNfvUj8iMz8gkZTI/6xSkV0pImuNNEnpezXw7NFWlvU/1f6OfeM+hte4F5R/xYvda/8BNdL3fVCXb9dB9p1vH3iew7j/2yMod/31k/xvT8Pz1d/cPD0NE6SgEfUUMoqpZS1+c+TkFL24+/vOVzj+3Yd+EFz9vSC2wner4LX+CgMjh3ymdIVa3gd9YzpNZSyOG5wOuTAi52kz0BT/i/ZxBa8/wPGH2FTiCEs1gAAAABJRU5ErkJggg==');
}

function setup() {
  canvas = createCanvas(300, 300);
  canvas.center();
  video = createCapture(VIDEO);
  video.size(300, 300);
  video.hide();

  poseNet = ml5.poseNet(video, modelLoaded);
  poseNet.on('pose', gotPoses);
}

function modelLoaded() {
  console.log('PoseNet Is Initialized');
}

function gotPoses(results)
{
  if(results.length > 0)
  {
    console.log(results);
    noseX = results[0].pose.nose.x-15;
    noseY = results[0].pose.nose.y-15;
  }
}

function draw() {
  image(video, 0, 0, 300, 300);
  image(clown_nose, noseX, noseY, 30, 30);
}

function take_snapshot(){    
  save('PK.png');
}
